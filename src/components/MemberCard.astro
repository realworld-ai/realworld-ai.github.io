---
// src/components/MemberCard.astro
interface Link {
    github?: string;
    twitter?: string;
    website?: string;
    researchmap?: string;
}

interface Props {
    image: string;
    name: string;
    role: string;
    links?: Link;
}

const { image, name, role, links } = Astro.props;

// Determine primary link for the name (Website > Researchmap > GitHub > Twitter)
const primaryLink = links?.website || links?.researchmap || links?.github || links?.twitter;
---

<div class="bg-lab-card border border-white/5 rounded-xl p-6 flex flex-col items-center text-center hover:border-lab-accent/50 transition-colors group h-full">
    <div class="w-32 h-32 rounded-full overflow-hidden mb-4 border-2 border-lab-accent/20 group-hover:border-lab-accent/80 transition-colors shadow-lg shadow-black/50 bg-gray-800">
        <img src={image} alt={name} class="w-full h-full object-cover" loading="lazy" />
    </div>
    
    <div class="mb-1">
        {primaryLink ? (
            <a href={primaryLink} target="_blank" rel="noopener noreferrer" class="text-xl font-bold text-white hover:text-lab-accent transition-colors underline decoration-lab-accent/30 hover:decoration-white decoration-2 underline-offset-4">
                {name}
            </a>
        ) : (
            <h3 class="text-xl font-bold text-white">{name}</h3>
        )}
    </div>
    
    <p class="text-sm text-gray-400 font-medium uppercase tracking-wide mt-2">{role}</p>
</div>
