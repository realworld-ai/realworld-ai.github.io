---
import { ui } from '../utils/ui';
const { lang } = Astro.props as { lang?: string } || { lang: 'en' };
const t = ui[lang ?? 'en'];
---

<section class="relative">
  <div class="hero-bg relative">
    <picture class="absolute inset-0 block w-full h-full">
      <source type="image/webp" srcset="/assets/hero/C_hero_background.webp" />
      <img src="/assets/hero/C_hero_background.jpg" alt={t['hero.title']} class="w-full h-full object-cover block" loading="eager" fetchpriority="high"/>
    </picture>

    <!-- Overlay (CSS-based, can be tuned) -->
    <div class="absolute inset-0 pointer-events-none" aria-hidden="true"></div>

    <!-- Content (logo lockup + slot for title/buttons) -->
    <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-28 lg:py-40">
      <div class="flex items-start gap-6">
        <a href={`/${lang}`} class="block flex-shrink-0" aria-label="Home">
          <img src="/assets/brand/B_logo_lockup.svg" alt="Lab" class="object-contain" style="height:clamp(40px,6.5vw,88px);" />
        </a>

        <div class="max-w-3xl">
          <slot />
        </div>
      </div>
    </div>

    <style>
      .hero-bg { min-height: 56vh; }
      .hero-bg picture, .hero-bg img { position: absolute; inset: 0; width: 100%; height: 100%; }
      .hero-bg > div[aria-hidden] { background: rgba(0,0,0,0.55); }
      @media (max-width: 640px) { .hero-bg { min-height: 48vh; } }
    </style>
  </div>
</section>
